<script type="text/javascript">
    RED.nodes.registerType('lower-case',{
        category: 'Blocklet',
        color: '#00cea5',
        defaults: {
            name   : { value:"" },
            // address: { value:"", required: true },
            apikey : { value:"", required: true },
            network: { value:"", required: true },
            address: {
                value: "",
                required: true,
                validate: function (v) {
                    console.log('validate: ', v)
                    //return ['encode', 'decode', 'escape', 'unescape'].includes(v)
                },
            },
        },
        inputs:1,
        outputs:1,
        icon: "logo.png",
        label: function() {
            return this.name || "Blocklet";
        },
        oneditprepare: function() {
        },
        oneditsave: function() {
        },
        oneditcancel: function(adding) {
        }
    });
</script>

<script type="text/html" data-template-name="lower-case">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">        
    </div>
    <div class="form-row">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="text" id="node-input-apikey" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-network"><i class="fa fa-cog"></i> Network</label>
        <select id="node-input-network">
            <option value="408fa195a34b533de9ad9889f076045e">Bitcoin Mainnet BTC</option>
            <option value="43b45e71cc0615b491cb699e7071fc06">Bitcoin Cash BCH </option>
            <option value="a818635d36dbe125e26167c4438e2217">Bitcoin SV BSV</option>
            <option value="1c9c969065fcd1cf">Ethereum Mainnet ETH</option>
            <option value="1b3f7a72b3e99c13">Ethereum Rinkeby Testnet ETH</option>
            <option value="f94be61fd9f4fa684f992ddfd4e92272">Litcoin LTC</option>
            <option value="822e2ebe02f74df8">Stellar XLM</option>
            <option value="b7d4f994f33c709be4ce6cbae31d7b8e">ZCash ZEC</option>
        </select>
    </div>   
    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-bitcoin"></i> Address</label>
        <input type="text" id="node-input-address" placeholder="0xf2...5a656">
    </div>
    <div class="form-tips"><b>Info:</b> 
        In order to make this node working, you need an API Key from Amberdata.
        <a target="_blank" rel="noopener noreferrer" href="https://amberdata.io">Get your API Key here</a>
    </div>
    <div class="form-tips"><b>Tip:</b> Enter a valid token address you want to watch for.</div>
</script>

<script type="text/html" data-help-name="lower-case">
    <p>A simple node that receives transactions from a Blockchain</p>        

    <h3>Inputs</h3>
        <dl class="message-properties">
            <dt>payload
                <span class="property-type">string | buffer</span>
            </dt>
            <dd> the payload of the message to publish. </dd>
            <dt class="optional">topic <span class="property-type">string</span></dt>
            <dd> the MQTT topic to publish to.</dd>
        </dl>
    
     <h3>Outputs</h3>
         <ol class="node-ports">
             <li>Standard output
                 <dl class="message-properties">
                     <dt>payload <span class="property-type">string</span></dt>
                     <dd>the standard output of the command.</dd>
                 </dl>
             </li>
             <li>Standard error
                 <dl class="message-properties">
                     <dt>payload <span class="property-type">string</span></dt>
                     <dd>the standard error of the command.</dd>
                 </dl>
             </li>
         </ol>
    
    <h3>Details</h3>
        <p><code>msg.payload</code> is used as the payload of the published message.
        If it contains an Object it will be converted to a JSON string before being sent.
        If it contains a binary Buffer the message will be published as-is.</p>
        <p>The topic used can be configured in the node or, if left blank, can be set
        by <code>msg.topic</code>.</p>
        <p>Likewise the QoS and retain values can be configured in the node or, if left
        blank, set by <code>msg.qos</code> and <code>msg.retain</code> respectively.</p>
    
    <h3>References</h3>
        <ul>
            <li><a>Twitter API docs</a> - full description of <code>msg.tweet</code> property</li>
            <li><a>GitHub</a> - the nodes github repository</li>
        </ul>
    <p>Powered by <a href="https://blockchainfirst.org/" target="_blank">Blockchainfirst</a>.</p>    
    <p>based on Amberdata APIs <a target="_blank" rel="noopener noreferrer" href="https://amberdata.io">Amberdata</a>.</p>        
</script>